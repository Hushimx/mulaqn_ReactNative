# ุงููุฑุญูุฉ ุงูุฃููู - ุชูููุฐ ุตูุญุงุช ุงูุฏุฑูุณ ูุงููุณุงุฑุงุช

## โ ุชู ุงูุงูุชูุงุก ูู:

### 1. **ุตูุญุฉ Tracks Dashboard** (`app/tracks/[id].tsx`)
**ุงููุณุงุฑ**: `/tracks/{id}`

**ุงููููุฒุงุช**:
- โ ุนุฑุถ ูุนูููุงุช ุงููุณุงุฑ (QDR, TAH, STEP)
- โ ุฅุญุตุงุฆูุงุช ุงูุชูุฏู (ุฅุฌูุงูู ุงูุฏุฑูุณุ ุงูููุชููุฉุ ุงููุณุจุฉ ุงููุฆููุฉ)
- โ ูุงุฆูุฉ ุงูุฏุฑูุณ ูุน:
  - ุฑูู ุงูุฏุฑุณ / ุนูุงูุฉ ุงูุฅููุงู โ
  - ุงูุนููุงู ูุงููุตู
  - ูุณุชูู ุงูุตุนูุจุฉ (ุณูู/ูุชูุณุท/ุตุนุจ) ุจุฃููุงู ูุฎุชููุฉ
  - ุงููุฏุฉ ุงูุชูุฏูุฑูุฉ
  - ุนุฏุฏ ุงููุญุงููุงุช
  - ุขุฎุฑ ูุชูุฌุฉ ุฅุฐุง ุงูุชูู
- โ ุงูุชููู ุงูุณูุณ ููุฏุฑุณ ุนูุฏ ุงูุถุบุท

**API ุงููุณุชุฎุฏู**:
- `GET /api/tracks/{id}` - ุฌูุจ ูุนูููุงุช ุงููุณุงุฑ
- `GET /api/tracks/{id}/lessons` - ุฌูุจ ุฏุฑูุณ ุงููุณุงุฑ

---

### 2. **ุตูุญุฉ ุชูุงุตูู ุงูุฏุฑุณ** (`app/lessons/[id].tsx`)
**ุงููุณุงุฑ**: `/lessons/{id}`

**ุงููููุฒุงุช**:
- โ ุนุฑุถ ุชูุงุตูู ุงูุฏุฑุณ ุงููุงููุฉ
- โ ุงููุณุงุฑ ุงูููุชูู ูู ุงูุฏุฑุณ
- โ ูุนูููุงุช ุชุนุฑูููุฉ (ุตุนูุจุฉุ ูุฏุฉุ ุนุฏุฏ ุฃุณุฆูุฉ)
- โ ุงููุตู ูุงููุญุชูู ุงูุชุนูููู
- โ ุฅุญุตุงุฆูุงุช ุงูุชูุฏู ุงูุดุฎุตู:
  - ุนุฏุฏ ุงููุญุงููุงุช
  - ุขุฎุฑ ูุชูุฌุฉ
  - ุฃูุถู ูุชูุฌุฉ
- โ ุนูุงูุฉ ุงูุฅููุงู โ
- โ ุฒุฑ "ุงุจุฏุฃ ุงูุฏุฑุณ" ุฃู "ุญุงูู ูุฑุฉ ุฃุฎุฑู"
- โ ุฅูุดุงุก ูุญุงููุฉ ุฌุฏูุฏุฉ ุนูุฏ ุงูุจุฏุก

**API ุงููุณุชุฎุฏู**:
- `GET /api/lessons/{id}` - ุฌูุจ ุชูุงุตูู ุงูุฏุฑุณ
- `POST /api/lesson-attempts` - ุจุฏุก ูุญุงููุฉ ุฌุฏูุฏุฉ

---

### 3. **ุตูุญุฉ ุญู ุงูุฃุณุฆูุฉ** (`app/lessons/attempt/[id].tsx`)
**ุงููุณุงุฑ**: `/lessons/attempt/{id}`

**ุงููููุฒุงุช**:
- โ ุดุฑูุท ุงูุชูุฏู ุงูุชูุงุนูู
- โ ุนุฏุงุฏ ุงูุฃุณุฆูุฉ (ุงูุณุคุงู X ูู Y)
- โ ุนุฑุถ ุงูุณุคุงู ูุน ุฑููู ูููุนู
- โ ุฏุนู ุฃููุงุน ุงูุฃุณุฆูุฉ:
  - โ ุงุฎุชูุงุฑ ูุงุญุฏ (Single Choice)
  - โ ุงุฎุชูุงุฑ ูุชุนุฏุฏ (Multiple Choice)
  - โ ุตุญ/ุฎุทุฃ (True/False)
- โ ุงุฎุชูุงุฑ ุงูุฅุฌุงุจุงุช ุจุชุตููู ุฌููู
- โ ุญูุธ ุงูุฅุฌุงุจุฉ ุชููุงุฆูุงู ุนูุฏ ุงูุงูุชูุงู
- โ ุงูุชููู ุจูู ุงูุฃุณุฆูุฉ (ุงูุชุงูู/ุงูุณุงุจู)
- โ ุชุญุฐูุฑ ุนูุฏ ูุญุงููุฉ ุงูุฎุฑูุฌ
- โ ุชุญุฐูุฑ ุนูุฏ ุงูุชุณููู ุจุฏูู ุฅููุงู
- โ ุชุณููู ุงููุญุงููุฉ ูุนุฑุถ ุงููุชูุฌุฉ

**API ุงููุณุชุฎุฏู**:
- `POST /api/lesson-attempts/{id}/responses` - ุญูุธ ุฅุฌุงุจุฉ ุณุคุงู
- `POST /api/lesson-attempts/{id}/submit` - ุชุณููู ุงููุญุงููุฉ

---

### 4. **ุชุญุฏูุซุงุช ุนูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ** (`app/(tabs)/index.tsx`)
- โ ุชุนุฏูู `handleTrackPress` ููุงูุชูุงู ุฅูู `/tracks/{id}`
- โ ุฑุจุท ูุงูู ูุน API

---

### 5. **ุชุญุฏูุซุงุช ููู ุงูุชุฑุฌูุฉ** (`locales/ar.json`)
**ุฅุถุงูุงุช ุฌุฏูุฏุฉ**:
```json
{
  "common": {
    "retry": "ุฅุนุงุฏุฉ ุงููุญุงููุฉ",
    "goBack": "ุงูุนูุฏุฉ"
  },
  "tracks": { ... },      // 8 ูุตูุต ุฌุฏูุฏุฉ
  "lessons": { ... }      // 30+ ูุต ุฌุฏูุฏ
}
```

---

### 6. **API Endpoints** (`utils/api.ts`)
**ุฌุงูุฒ ูููุชูู**:
- โ `API_ENDPOINTS.TRACKS` - ูุงุฆูุฉ ุงููุณุงุฑุงุช
- โ `API_ENDPOINTS.TRACK(id)` - ุชูุงุตูู ูุณุงุฑ
- โ `API_ENDPOINTS.LESSONS(trackId)` - ุฏุฑูุณ ูุณุงุฑ
- โ `API_ENDPOINTS.LESSON(id)` - ุชูุงุตูู ุฏุฑุณ
- โ `API_ENDPOINTS.LESSON_ATTEMPTS` - ุจุฏุก ูุญุงููุฉ
- โ `API_ENDPOINTS.LESSON_ATTEMPT_RESPONSES(attemptId)` - ุญูุธ ุฅุฌุงุจุฉ
- โ `API_ENDPOINTS.LESSON_ATTEMPT_SUBMIT(attemptId)` - ุชุณููู

---

## ๐จ ุงูุชุตููู

### ุงูุฃููุงู ุงููุณุชุฎุฏูุฉ:
- **ุฐูุจู ุฑุฆูุณู**: `#D4AF37`
- **ุฃุฒุฑู ุฏุงูู**: `#1B365D`
- **ุฃุฎุถุฑ (ููุชูู)**: `#10b981`
- **ุฃุตูุฑ (ูุชูุณุท)**: `#f59e0b`
- **ุฃุญูุฑ (ุตุนุจ)**: `#ef4444`
- **ุฃุฒุฑู (ูุนูููุงุช)**: `#3b82f6`

### ุงูููููุงุช ุงููุณุชุฎุฏูุฉ:
- โ `GradientBackground` - ุฎูููุฉ ูุชุฏุฑุฌุฉ
- โ `GradientButton` - ุฃุฒุฑุงุฑ ูุชุฏุฑุฌุฉ
- โ `MaterialIcons` - ุฃููููุงุช
- โ `useTranslation` - ุงูุชุฑุฌูุฉ
- โ `useLanguage` - ุฏุนู RTL

---

## ๐ฑ ุชุฏูู ุงููุณุชุฎุฏู (User Flow)

```
ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Home)
    โ (ุงุฎุชูุงุฑ ูุณุงุฑ)
ุตูุญุฉ ุงููุณุงุฑ (Track Dashboard)
    โ (ุงุฎุชูุงุฑ ุฏุฑุณ)
ุชูุงุตูู ุงูุฏุฑุณ (Lesson Show)
    โ (ุถุบุท "ุงุจุฏุฃ ุงูุฏุฑุณ")
ุญู ุงูุฃุณุฆูุฉ (Lesson Attempt)
    โ (ุงูุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ)
    โ (ุถุบุท "ุชุณููู")
ุนุฑุถ ุงููุชูุฌุฉ (Alert)
    โ
ุงูุนูุฏุฉ ููุฏุฑุณ ุฃู ุงููุณุงุฑ
```

---

## ๐ ุงูุฑุจุท ูุน Laravel API

### ููุงุท ุงูุงุชุตุงู ุงูุฑุฆูุณูุฉ:

1. **ุฌูุจ ุงููุณุงุฑุงุช**:
```typescript
GET /api/tracks
Response: { ok: true, data: Track[] }
```

2. **ุฌูุจ ุชูุงุตูู ุงููุณุงุฑ**:
```typescript
GET /api/tracks/{id}
Response: { ok: true, data: Track }
```

3. **ุฌูุจ ุฏุฑูุณ ุงููุณุงุฑ**:
```typescript
GET /api/tracks/{id}/lessons
Response: { ok: true, data: Lesson[] }
```

4. **ุฌูุจ ุชูุงุตูู ุงูุฏุฑุณ**:
```typescript
GET /api/lessons/{id}
Response: { ok: true, data: Lesson }
```

5. **ุจุฏุก ูุญุงููุฉ**:
```typescript
POST /api/lesson-attempts
Body: { lesson_id: number }
Response: { ok: true, data: { id: number, questions: Question[] } }
```

6. **ุญูุธ ุฅุฌุงุจุฉ**:
```typescript
POST /api/lesson-attempts/{id}/responses
Body: { 
  question_id: number, 
  selected_option_id?: number,      // ููู single choice
  selected_option_ids?: number[]    // ููู multiple choice
}
```

7. **ุชุณููู ุงููุญุงููุฉ**:
```typescript
POST /api/lesson-attempts/{id}/submit
Response: { 
  ok: true, 
  data: { 
    raw_score: number,
    score_percentage: number,
    total_questions: number,
    correct_answers: number
  } 
}
```

---

## โจ ุงููููุฒุงุช ุงูุฅุถุงููุฉ

### 1. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**:
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
- โ ุดุงุดุงุช Loading ุฌูููุฉ
- โ ุดุงุดุงุช Error ูุน ุฒุฑ ุฅุนุงุฏุฉ ุงููุญุงููุฉ
- โ ูุนุงูุฌุฉ 401 (Unauthorized) ูุญุฐู Token

### 2. **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**:
- โ ุฑุณูู ูุชุญุฑูุฉ ุณูุณุฉ
- โ ุชุฃููุฏุงุช ูุจู ุงูุฎุฑูุฌ/ุงูุชุณููู
- โ ุญูุธ ุชููุงุฆู ููุฅุฌุงุจุงุช
- โ ูุคุดุฑุงุช ุงูุชูุฏู ุงููุงุถุญุฉ
- โ ุฏุนู RTL ูุงูู

### 3. **ุงูุฃุฏุงุก**:
- โ ุชุญููู ูุณูู (Lazy Loading)
- โ ูุนุงูุฌุฉ ุงูุญุงูุงุช ุงููุงุฑุบุฉ
- โ ุชุญุณูู ุงูุทูุจุงุช (Optimized Requests)

---

## ๐ ููุงุญุธุงุช ูููุฉ

### 1. **ููุงุญุธุฉ API**:
ุญุงููุงู ูุง ููุฌุฏ endpoint ูุฌูุจ ุชูุงุตูู attempt (GET /api/lesson-attempts/{id}). ูู ุตูุญุฉ attempt/[id].tsxุ ุชู ุนูู workaround ุจุณูุท. ูููุถู ุฅุถุงูุฉ ูุฐุง ุงูู endpoint ูู Laravel ููุญุตูู ุนูู:
- ุชูุงุตูู ุงููุญุงููุฉ
- ุงูุฃุณุฆูุฉ ูุน ุฎูุงุฑุงุชูุง
- ุงูุฅุฌุงุจุงุช ุงููุญููุธุฉ ูุณุจูุงู

### 2. **ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ**:
- ุฅุถุงูุฉ Timer ูููุญุงููุฉ
- ุนุฑุถ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ ุจุนุฏ ุงูุชุณููู
- ุฅุญุตุงุฆูุงุช ุชูุตูููุฉ ููู ููุงุฑุฉ
- ูุธุงู ููุงุท ูุฅูุฌุงุฒุงุช ููุฑูุฉ

### 3. **ุงุฎุชุจุงุฑ**:
ูุฌุจ ุงุฎุชุจุงุฑ:
- โ ุงูุชููู ุจูู ุงูุตูุญุงุช
- โ ุญูุธ ูุงุณุชุฑุฌุงุน ุงูุฅุฌุงุจุงุช
- โ ุงูุชุณููู ูุงููุชุงุฆุฌ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุฏุนู RTL

---

## ๐ ููููุฉ ุงูุชุดุบูู

### 1. ุชุดุบูู Laravel API:
```bash
cd /Users/osa/Desktop/Mulaqn_Laravel
php artisan serve
```

### 2. ุชุดุบูู React Native:
```bash
cd /Users/osa/Desktop/Mulaqn_Laravel/mulaqn_ReactNative
npx expo start
```

### 3. ุชุบููุฑ API Base URL:
ูู `utils/api.ts`ุ ุบููุฑ `localhost` ุฅูู IP ุฌูุงุฒู ููู Android:
```typescript
const API_BASE_URL = __DEV__ 
  ? 'http://192.168.X.X:8000/api'  // ุบููุฑ ููุง
  : 'https://your-production-domain.com/api';
```

### 4. ุชุณุฌูู ุงูุฏุฎูู:
```
Email: student@mulaqn.test
Password: password
```

---

## ๐ฏ ุงูุฎูุงุตุฉ

ุชู ุชูููุฐ **ุงููุฑุญูุฉ ุงูุฃููู** ุจูุฌุงุญ! โ

ุงูุขู ุงูุชุทุจูู ูุฏุนู:
- โ ุนุฑุถ ุงููุณุงุฑุงุช
- โ ุนุฑุถ ุงูุฏุฑูุณ
- โ ุญู ุงูุฃุณุฆูุฉ
- โ ุชุณููู ุงููุญุงููุงุช
- โ ุนุฑุถ ุงููุชุงุฆุฌ

**ุงููุฑุญูุฉ ุงูุชุงููุฉ** ุณุชุดูู:
- ุงูุงุฎุชุจุงุฑุงุช (Assessments)
- ุงูุฃุณุฆูุฉ ุงููุญููุธุฉ
- ุงูููุงุท ูุงูุฅูุฌุงุฒุงุช
- ุงูุงุดุชุฑุงูุงุช ูุงููุฏููุนุงุช

---

**ุชุงุฑูุฎ ุงูุฅูุฌุงุฒ**: 2025-11-13  
**ุงูููุช ุงููุณุชุบุฑู**: ~45 ุฏูููุฉ  
**ุนุฏุฏ ุงููููุงุช**: 6 ูููุงุช ุฌุฏูุฏุฉ + 3 ุชุญุฏูุซุงุช  
**ุนุฏุฏ ุงูุฃุณุทุฑ**: ~2000 ุณุทุฑ  

ุงูุญูุฏ ููู ุฑุจ ุงูุนุงูููู! ๐

